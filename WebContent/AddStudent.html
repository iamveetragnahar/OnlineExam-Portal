<!DOCTYPE html>
<html lang="en">
<!---
AddStudent.html
--->

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://kit.fontawesome.com/e7c33eb849.js" crossorigin="anonymous"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Courgette&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Lato:ital@1&display=swap');
        .bg {
            width: 100%;
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            z-index: -111111;
        }
        
        body {
            font-family: sans-serif;
            /* font-weight: 700; */
        }
        
        .bg>img {
            width: 100%;
            height: 100%;
        }
        
        .input:focus {
            box-shadow: 0px 0px 6px white;
        }
        
        nav {
            font-family: 'Courgette', cursive;
        }
        
        .font-Courgette {
            font-family: 'Courgette', cursive;
        }
        
        .font-Lato {
            font-family: 'Lato', sans-serif;
        }
        
        .hiddenScrollBar::-webkit-scrollbar {
            display: none;
        }
        
        .w-fullA {
            width: 90%;
        }
        
        .disabled-button {
            opacity: 0.6;
            /* background-color: red; */
        }
    </style>
</head>


<body class="">
    <input type="hidden" id="uesrnameInp" value="<%= username %>">
    <div class="bg">
        <img src="imgs/bg1br15.png" alt="">
    </div>
    <nav style=" box-shadow: 0px 0px 6px black;" id="nav" class=" md:bg-white/50 bg-white/90  h-full fixed transition-all duration-200 -left-full md:left-0 top-0  w-full z-50 md:lg:w-1/5">
        <i class="fas fa-bars  icons_control fixed top-3 right-3  text-2xl md:hidden" id="bars"></i>
        <i class="fas fa-times icons_control fixed top-3 right-3 text-2xl hidden md:hidden" id="close"></i>
        <div id="profileImg">
            <div id="img" class="  pt-10 m-1">
                <img src="imgs/logo.png" alt="" class="rounded-full aspect-square w-1/3 md:w-7/12  p-1  m-auto">
            </div>
            <div class=" m-0">
                <p class="text-center text-xl m-0 p-0 leading-none">
                    <%= name %>
                </p>
                <p class="text-center text-md m-1 p-0 leading-none">Examiner</p>
            </div>
        </div>

        <ul class="ml-6 my-10 h-1/2 overflow-x-auto overflow-y-auto hiddenScrollBar">
            <li class=" mr-5 md:ml-7 text-xl my-5   border-b-2 border-black md:border-none flex justify-center md:block "><i class=" mr-3 text-black text-center md:text-left md:text-white  fas fa-home "></i> <a class="hover:pl-1 transition-all hover:font-bold " href="#" onclick="showProfile()"> Profile </a></li>
            <li class=" mr-5 md:ml-7 text-xl my-5   border-b-2 border-black md:border-none flex justify-center md:block "><i class=" mr-3 text-black text-center md:text-left md:text-white  fas fa-user"></i> <a class="hover:pl-1 transition-all hover:font-bold" href="#"> Update</a></li>
            <li class=" mr-5 md:ml-7 text-xl my-5   border-b-2 border-black md:border-none flex justify-center md:block "><i class=" mr-3 text-black text-center md:text-left md:text-white  fas fa-file-alt"></i> <a class="hover:pl-1 transition-all hover:font-bold" href=" # ">Add Test</a></li>
            <li class=" mr-5 md:ml-7 text-xl my-5   border-b-2 border-black md:border-none flex justify-center md:block "><i class=" mr-3 text-black text-center md:text-left md:text-white fas fa-file "></i> <a class="hover:pl-1 transition-all hover:font-bold" href="#">All Test</a></li>
            <li class=" mr-5 md:ml-7 text-xl my-5   border-b-2 border-black md:border-none flex justify-center md:block "><i class=" mr-3 text-black text-center md:text-left md:text-white  fas fa-solid fa-graduation-cap"></i> <a class="hover:pl-1 transition-all hover:font-bold " href=" # ">Add Student</a></li>
            <li class=" mr-5 md:ml-7 text-xl my-5   border-b-2 border-black md:border-none flex justify-center md:block "><i class=" mr-3 text-black text-center md:text-left md:text-white  fas fa-solid fa-school"></i> <a class="hover:pl-1 transition-all hover:font-bold " href=" # ">All Student</a></li>
            <li class=" mr-5 md:ml-7 text-xl my-5   border-b-2 border-black md:border-none flex justify-center md:block "><i class=" mr-3 text-black text-center md:text-left md:text-white  fas fa-solid fa-paste"></i> <a class="hover:pl-1 transition-all hover:font-bold " href=" # ">Visible Answers</a></li>
            <li class=" mr-5 md:ml-7 text-xl my-5   border-b-2 border-black md:border-none flex justify-center md:block "><i class=" mr-3 text-black text-center md:text-left md:text-white  fas fa-key"></i> <a class="hover:pl-1 transition-all hover:font-bold " href=" # " onclick="changePassword()">Change Password</a></li>
            <li class=" mr-5 md:ml-7 text-xl my-5   border-b-2 border-black md:border-none flex justify-center md:block "><i class=" mr-3 text-black text-center md:text-left md:text-white fas fa-sign-out-alt "></i> <a class="hover:pl-1 transition-all hover:font-bold" href="Logout"> Log out</a></li>

        </ul>

        <div class=" text-lg absolute hidden  lg:block w-full bottom-0 ">
            <p class="text-center"><span class="text-white text-center"> copyright</span> <i class="far fa-copyright"></i>ips academy</p>
            <p class="text-center">indore</p>
        </div>

    </nav>
    <div id="rightBox" class="w-full  md:w-4/5 h-full  fixed top-0 right-0">
        <div style="background-color: rgba(0,0,0,0.5);" class=" border-black w-fullA md:w-2/5 hiddenScrollBar  overflow-y-auto font-Lato h-5/6  rounded-md absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2">
            <div id='div'>
                <h1 class="text-white text-2xl text-center m-4">Add Student</h1>
                <div id='errorbox' class='hidden text-center text-red-700 bg-red-400  border-2 rounded-md border-red-700 w-4/5 m-auto'>
                    Username/Password is wrong
                </div>
                <div id='successbox' class='hidden text-center text-green-700 bg-green-400  border-2 rounded-md border-green-700 w-4/5 m-auto'>
                    Details Updated successfully
                </div>
                <form action="#" id="AddStudentForm">
                    <div class="m-7 sm:mx-12  ">
                        <p class="text-white text-xl p-2">Name:</p>
                        <input type="text" id="usernameInp" name="StudentName" class="p-2 input field text-black w-full  rounded-md focus:border-none focus:box focus:outline-none" placeholder="Enter Name Of Student">
                    </div>
                    <div class="m-7 sm:mx-12  ">
                        <p class="text-white text-xl p-2">Enrollment No.:</p>
                        <input type="text" id="usernameInp" name="EnrollmentNumber" class="p-2 input field text-black w-full  rounded-md focus:border-none focus:box focus:outline-none" placeholder="Enter Enrollment Number">
                    </div>
                    <div class="m-7 sm:mx-12  ">
                        <p class="text-white text-xl p-2">Mobile No.:</p>
                        <input type="number" id="usernameInp" name="MobileNumber" class="p-2 input field text-black w-full  rounded-md focus:border-none focus:box focus:outline-none" placeholder="Enter Mobile Number">
                    </div>
                    <div class="m-7 sm:mx-12  ">
                        <p class="text-white text-xl p-2">Email:</p>
                        <input type="text" id="usernameInp" name="Email" class="p-2 input field text-black w-full  rounded-md focus:border-none focus:box focus:outline-none" placeholder="Enter Email">
                    </div>
                    <div class=" m-7 sm:mx-12 ">
                        <p class="text-white text-xl p-2 ">DOB:</p>
                        <input type="date" id="usernameInp" name="DOB" class="p-2 input field text-black w-full rounded-md focus:border-none focus:box focus:outline-none " placeholder="Enter DOB Of Student ">
                    </div>
                    <div class=" m-7 sm:mx-12 ">
                        <p class="text-white text-xl p-2 ">Gender:</p>
                        <div class="flex justify-between  ">

                            <div class="flex flex-row">
                                <label for="MaleInp" class="text-white text-xl p-2 inline border-black" for="MaleInp">Male</label>
                                <input type="radio" id="MaleInp" checked name="Gender" value="Male" class="my-4 inline  field text-black rounded-md focus:border-none focus:box focus:outline-none" value="Male">
                            </div>
                            <div class="flex flex-row">
                                <label for="FemaleInp" class="text-white text-xl p-2 inline border-black" for="MaleInp">Female</label>
                                <input type="radio" id="FemaleInp" name="Gender" value="Memale" class="my-4 inline  field text-black rounded-md focus:border-none focus:box focus:outline-none" value="Male">
                            </div>
                            <div class="flex flex-row">
                                <label for="OtherInp" class="text-white text-xl p-2 inline border-black" for="MaleInp">Other</label>
                                <input type="radio" id="OtherInp" name="Gender" value="Other" class="my-4 inline  field text-black rounded-md focus:border-none focus:box focus:outline-none" value="Male">
                            </div>
                        </div>

                    </div>
                    <div class="m-7 sm:mx-12 ">
                        <p class="text-white text-xl p-2 ">Course</p>
                        <!-- <input type="date "  id="usernameInp " name="userName " class="p-2 input field text-black w-full rounded-md focus:border-none focus:box focus:outline-none " placeholder="Name Of Student "> -->
                        <select class=' bg-white border-b-4 rounded-md border-black  input p-1  text-black/70 text-xl w-full focus:outline-none' name="Course">
                        <option value="">Select</option>
                        <option value="B.tech">B.tech</option>
                        <option value="B.tech">M.tech</option>
                        <option value="B.tech">PHD</option>
                    </select>
                    </div>
                    <div class="m-7 sm:mx-12 ">
                        <p class="text-white text-xl p-2 ">Branch</p>
                        <!-- <input type="date "  id="usernameInp " name="userName " class="p-2 input field text-black w-full rounded-md focus:border-none focus:box focus:outline-none " placeholder="Name Of Student "> -->
                        <select class=' bg-white border-b-4 rounded-md border-black  input p-1  text-black/70 text-xl w-full focus:outline-none' name="Branch">
                        <option value="">Select</option>
                        <option value="B.tech">B.tech</option>
                        <option value="B.tech">M.tech</option>
                        <option value="B.tech">PHD</option>
                        </select>
                    </div>
                    <div class="m-7 sm:mx-12 ">
                        <p class="text-white text-xl p-2 ">Select start Year</p>
                        <input type="number" step="1" value="2022" name="Year" id="startInputYear" class="p-2 input field text-black w-full rounded-md focus:border-none focus:box focus:outline-none " placeholder="Enter Start Year" />
                    </div>
                    <div class="m-7 sm:mx-12 ">
                        <p class="text-white text-xl p-2 ">Image:</p>
                        <input type="file" id="usernameInp" name="Image" class="p-2 input field text-black w-full bg-blue-50 rounded-md focus:border-none focus:box focus:outline-none">
                    </div>
                    <div class="m-7 mx-12 ">
                        <input type="submit" id="AddStudent" value="Add Student" onclick="addStudent(this)" class="bg-blue-600 py-2 text-xl px-4 rounded-md text-white block w-1/2 m-auto hover:bg-blue-700 ">
                    </div>
                </form>

            </div>
            <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        </div>
    </div>


</body>
<script>
    let usernameId = document.getElementById('uesrnameInp').value;
    let bars = document.getElementById('bars');
    let close = document.getElementById('close');
    let nav = document.getElementById('nav');
    bars.addEventListener('click', () => {
        nav.classList.remove('-left-full');
        nav.classList.add('left-0');
        bars.classList.add('hidden');
        close.classList.remove('hidden');

    });

    close.addEventListener('click', () => {
        nav.classList.add('-left-full');
        nav.classList.remove('left-0');
        bars.classList.remove('hidden');
        close.classList.add('hidden');

    })


    // ************************************************
    document.getElementById('AddStudentForm').addEventListener('submit', (e) => {
        e.preventDefault();
        console.log("default prevented");

    })


    document.getElementById('startInputYear').setAttribute('value', new Date().getFullYear());
    document.getElementById('startInputYear').setAttribute('min', new Date().getFullYear() - 5);
    document.getElementById('startInputYear').setAttribute('max', new Date().getFullYear() + 5);

    function addStudent(btn) {
        let AddStudentForm = document.getElementById('AddStudentForm');
        let form = new FormData(AddStudentForm);


        console.log(form);

        form.forEach(ele => {
            // console.log(ele);

            if (ele == '') {
                showError("empty field");
                document.getElementById('div').parentElement.style.scrollBehavior = 'smooth';
                document.getElementById('div').parentElement.scroll(0, -100);
                return
            } else if (ele.name == '') {
                showError("Please Select Image");
                document.getElementById('div').parentElement.style.scrollBehavior = 'smooth';
                document.getElementById('div').parentElement.scroll(0, -100);
            }
        });



        $.ajax({
            url: "AddStudent",
            data: form,
            type: 'POST',
            success: function(data, textStatus, jqxhr) {
                console.log(data);
                console.log(textStatus);
                succesboxmsg("Student added succefully");
                AddStudentForm.reset();
            },

            error: function(jqXHR, textStatus, errorThrown) {
                console.log(data);
                showError("Student not Added");
            },
            processData: false,
            contentType: false
        })


    }


    // handling hide and show input field 
    function Eye(ele) {
        let input = ele.previousElementSibling;
        let eye_slash = ele.nextElementSibling;

        input.type = " text ";
        eye_slash.classList.remove('hidden');
        ele.classList.add('hidden');
    }

    function EyeSlash(ele) {
        let input = ele.previousElementSibling.previousElementSibling;
        let eye = ele.previousElementSibling;

        input.type = 'password';
        ele.classList.add('hidden');
        eye.classList.remove('hidden');
    }


    function showError(msg) {
        let errorbox = document.getElementById('errorbox');
        errorbox.classList.remove('hidden');
        errorbox.innerText = msg;
        setTimeout(() => {
            errorbox.classList.add('hidden');
        }, 5000);

    }
    // success msg fucntion 
    function succesboxmsg(msg) {
        let succesboxmsg = document.getElementById('successbox');
        succesboxmsg.classList.remove('hidden');
        succesboxmsg.innerText = msg;
        setTimeout(() => {
            succesboxmsg.classList.add('hidden');
        }, 5000);
    }
</script>


</html>