<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/e7c33eb849.js" crossorigin="anonymous"></script>

    <title>ProfilePage</title>
    <style>
        .pwdfield i:last-child {
            display: none;
        }
        
        .pwdfield i {
            /* z-index: ; */
        }
    </style>
</head>

<body>


    <div id="bg">
        <img src="bg1.jpg" alt="">
    </div>
    <div class="sidebar" id="sidebar">
        <div class="imgdiv">
            <img src="user.jpg" alt="">
            <div>
                <p class="name">Myank thakur</p>
                <p class="roll">Student</p>

            </div>
        </div>
        <ul>
            <li><i class="fas fa-home"></i> <a href="#"> Home </a></li>
            <li><i class="fas fa-user"></i> <a href="#"> Profile</a></li>
            <li><i class="fas fa-key"></i> <a href="#"> Password</a></li>
            <li><i class="fas fa-file-alt"></i> <a href="#"> Test</a></li>
            <li><i class="fas fa-sign-out-alt"></i> <a href="#"> Log out</a></li>
        </ul>

        <div>
            <p> <span> copyright</span> <i class="far fa-copyright"></i>ips academy</p>
            <p>indore</p>
        </div>

        <i class="fas fa-bars  icons_control" id="bars"></i>
        <i class="fas fa-times icons_control" id="close"></i>

    </div>
    <div class="root">
        <div class="pbox" id="pchangebox">
            <form action="#" autocomplete='off'>
                <div class="error" id="error">
                    this is en error
                </div>
                <div class="field pwdfield">
                    <input type="password" placeholder="Old Password" id="oldpwd">
                    <i class="fas fa-eye eye" onclick="chang1(this)"></i>
                    <i class="fas fa-eye-slash eyeslash" onclick="chang2(this)"></i>
                </div>
                <div class="field pwdfield">
                    <input type="password" placeholder="New Password" id="newpwd">
                    <i class="fas fa-eye eye" onclick="chang1(this)"></i>
                    <i class="fas fa-eye-slash eyeslash" onclick="chang2(this)"></i>

                </div>
                <div class="field pwdfield">
                    <input type="password" oninput="validatepwds()" placeholder="Confirm Password" id="cnewpwd">
                    <i class="fas fa-eye eye" onclick="chang1(this)"></i>
                    <i class="fas fa-eye-slash eyeslash" onclick="chang2(this)"></i>
                </div>
                <div class="submit_btn" id="submit">
                    <button class="btn btn-primary" id='changePasswordButton'>Submit</button>
                </div>
            </form>
        </div>
    </div>












    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    -->
</body>
<script>
    let newpwd = document.getElementById("newpwd");
    let cnewpwd = document.getElementById("cnewpwd");
    let oldpwd = document.getElementById("oldpwd");
    let error = document.getElementById("error");

    function validatepwds() {


        console.log(newpwd.value);
        console.log(cnewpwd.value);

        if (newpwd.value != cnewpwd.value) {
            console.log("passnot math");
            error.style.display = 'block';
            error.innerText = 'Confirm password not Macthes';
            document.getElementById("changePasswordButton").classList.add('disabled');

        } else {

            error.style.display = 'none';
            document.getElementById("changePasswordButton").classList.remove('disabled');
        }

    }

    document.getElementById("changePasswordButton").addEventListener('click', (e) => {
        e.preventDefault();
        let hsll = '  hello  hi     ';
        console.log(hsll.trim());

        if (oldpwd.value.trim() == '' || newpwd.value.trim() == '' || cnewpwd.value.trim() == '') {
            error.style.display = 'block';
            error.innerText = 'Empty field is not allowed';
            setInterval(() => {
                error.style.display = 'none';
            }, 3000);
        }
    })

    function chang1(e) {
        console.log(e);
        console.log(e.previousElementSibling);
        if (e.previousElementSibling.type == 'password') {
            e.previousElementSibling.type = 'text';
            e.nextElementSibling.style.display = 'inline';
            e.style.display = 'none';
        }


    }

    function chang2(e) {
        console.log(e);
        console.log(e.previousElementSibling.previousElementSibling);
        if (e.previousElementSibling.previousElementSibling.type == 'text') {
            e.previousElementSibling.previousElementSibling.type = 'password';
            e.previousElementSibling.style.display = 'inline';
            e.style.display = 'none';
        }
    }
    let bars = document.getElementById('bars');
    bars.addEventListener('click', () => {
        console.log('Hello');
        document.getElementById('sidebar').classList.add('responsiv_nav');
        bars.style.display = 'none';
        // document.getElementById('')

    })
    document.getElementById('close').addEventListener('click', () => {
        document.getElementById('sidebar').classList.remove('responsiv_nav');
        bars.style.display = 'block';
    })
    window.onresize = () => {
        if (window.innerWidth >= 800) {
            bars.style.display = 'none';
        } else {
            bars.style.display = 'block';

        }
    }
</script>

</html>