<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://kit.fontawesome.com/e7c33eb849.js" crossorigin="anonymous"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Courgette&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Lato:ital@1&display=swap');
        .bg {
            width: 100%;
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            z-index: -111111;
        }
        
        body {
            font-family: sans-serif;
            /* font-weight: 700; */
        }
        
        .bg>img {
            width: 100%;
            height: 100%;
        }
        
        .input:focus {
            box-shadow: 0px 0px 6px white;
        }
        
        nav {
            font-family: 'Courgette', cursive;
        }
        
        .font-Courgette {
            font-family: 'Courgette', cursive;
        }
        
        .font-Lato {
            font-family: 'Lato', sans-serif;
        }
        
        .hiddenScrollBar::-webkit-scrollbar {
            display: none;
        }
        
        .w-fullA {
            width: 90%;
        }
        
        .disabled-button {
            opacity: 0.6;
            /* background-color: red; */
        }
    </style>
</head>


<body class="">
    <input type="hidden" id="uesrnameInp" value="<%= username %>">
    <div class="bg">
        <img src="imgs/bg1br15.png" alt="">
    </div>
    <nav style=" box-shadow: 0px 0px 6px black;" id="nav" class=" md:bg-white/50 bg-white/90  h-full fixed transition-all duration-200 -left-full md:left-0 top-0  w-full z-50 md:lg:w-1/5">
        <i class="fas fa-bars  icons_control fixed top-3 right-3  text-2xl md:hidden" id="bars"></i>
        <i class="fas fa-times icons_control fixed top-3 right-3 text-2xl hidden md:hidden" id="close"></i>
        <div id="profileImg">
            <div id="img" class="  pt-10 m-1">
                <img src="imgs/logo.png" alt="" class="rounded-full aspect-square w-1/3 md:w-7/12  p-1  m-auto">
            </div>
            <div class=" m-0">
                <p class="text-center text-xl m-0 p-0 leading-none">
                    <%= name %>
                </p>
                <p class="text-center text-md m-1 p-0 leading-none">Examiner</p>
            </div>
        </div>

        <ul class="ml-6 my-10 h-1/2 overflow-x-auto overflow-y-auto hiddenScrollBar">
            <li class=" mr-5 md:ml-7 text-xl my-5   border-b-2 border-black md:border-none flex justify-center md:block "><i class=" mr-3 text-black text-center md:text-left md:text-white  fas fa-home "></i> <a class="hover:pl-1 transition-all hover:font-bold " href="#" onclick="showProfile()"> Profile </a></li>
            <li class=" mr-5 md:ml-7 text-xl my-5   border-b-2 border-black md:border-none flex justify-center md:block "><i class=" mr-3 text-black text-center md:text-left md:text-white  fas fa-user"></i> <a class="hover:pl-1 transition-all hover:font-bold" href="#"> Update</a></li>
            <li class=" mr-5 md:ml-7 text-xl my-5   border-b-2 border-black md:border-none flex justify-center md:block "><i class=" mr-3 text-black text-center md:text-left md:text-white  fas fa-file-alt"></i> <a class="hover:pl-1 transition-all hover:font-bold" href=" # ">Add Test</a></li>
            <li class=" mr-5 md:ml-7 text-xl my-5   border-b-2 border-black md:border-none flex justify-center md:block "><i class=" mr-3 text-black text-center md:text-left md:text-white fas fa-file "></i> <a class="hover:pl-1 transition-all hover:font-bold" href="#">All Test</a></li>
            <li class=" mr-5 md:ml-7 text-xl my-5   border-b-2 border-black md:border-none flex justify-center md:block "><i class=" mr-3 text-black text-center md:text-left md:text-white  fas fa-solid fa-graduation-cap"></i> <a class="hover:pl-1 transition-all hover:font-bold " href=" # ">Add Student</a></li>
            <li class=" mr-5 md:ml-7 text-xl my-5   border-b-2 border-black md:border-none flex justify-center md:block "><i class=" mr-3 text-black text-center md:text-left md:text-white  fas fa-solid fa-school"></i> <a class="hover:pl-1 transition-all hover:font-bold " href=" # ">All Student</a></li>
            <li class=" mr-5 md:ml-7 text-xl my-5   border-b-2 border-black md:border-none flex justify-center md:block "><i class=" mr-3 text-black text-center md:text-left md:text-white  fas fa-solid fa-paste"></i> <a class="hover:pl-1 transition-all hover:font-bold " href=" # ">Visible Answers</a></li>
            <li class=" mr-5 md:ml-7 text-xl my-5   border-b-2 border-black md:border-none flex justify-center md:block "><i class=" mr-3 text-black text-center md:text-left md:text-white  fas fa-key"></i> <a class="hover:pl-1 transition-all hover:font-bold " href=" # " onclick="changePassword()">Change Password</a></li>
            <li class=" mr-5 md:ml-7 text-xl my-5   border-b-2 border-black md:border-none flex justify-center md:block "><i class=" mr-3 text-black text-center md:text-left md:text-white fas fa-sign-out-alt "></i> <a class="hover:pl-1 transition-all hover:font-bold" href="Logout"> Log out</a></li>

        </ul>

        <div class=" text-lg absolute hidden  lg:block w-full bottom-0 ">
            <p class="text-center"><span class="text-white text-center"> copyright</span> <i class="far fa-copyright"></i>ips academy</p>
            <p class="text-center">indore</p>
        </div>

    </nav>
    <div id="rightBox" class="w-full  md:w-4/5 h-full  fixed top-0 right-0">
        <div style="background-color: rgba(0,0,0,0.5);" class=" border-black w-fullA md:w-4/5 hiddenScrollBar  overflow-y-auto font-Lato h-4/5 rounded-md absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2">
            <h1 class="text-white text-2xl text-center m-4">All Student</h1>

            <div id="filterbox" class="h-10  md:h-10  overflow-hidden  transition-all duration-300">
                <h1 class="text-2xl text-white mx-5">Filter <a href="#" onclick="showHideFilterBox(this)" class="text-white hover:text-white underline">here</a> </h1>
                <div class="flex justify-between md:flex-row flex-col">
                    <div>
                        <form action="google.com" onsubmit="filterForm1(event,this)">

                            <div class="flex  m-2  w-Afull justify-between">
                                <p class="text-white text-xl mx-3">Course</p>
                                <select name="Course" id="" value="" class="text-xl rounded-md w-48 border-b-2 input border-black focus:outline-none px-2 py-1">
                        <option value="Becholor of Technology">B.tech</option>
                        <option value="Master of Technology">M.tech</option>
                            </select>
                            </div>
                            <div class="flex m-2  w-Afull justify-between">
                                <p class="text-white text-xl mx-3">Branch</p>
                                <select name="Branch" id="" class="text-xl rounded-md w-48 border-b-2 input border-black focus:outline-none px-2 py-1">
                        <option value="Chemical">Chemical</option>
                        <option value="Civil">Civil</option>
                        <option value="Computer Science">Computer Science</option>
                        </select>
                            </div>
                            <div class="flex m-2  w-Afull justify-between">
                                <p class="text-white text-xl mx-3">Year</p>
                                <select name="Year" id="" class="text-xl rounded-md w-48 border-b-2 input border-black focus:outline-none px-2 py-1">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
                            </div>
                            <div class="flex m-2  w-Afull justify-between">
                                <p class="text-white text-xl mx-3">Semester</p>
                                <select name="Semester" id="" class="text-xl rounded-md w-48 border-b-2 input border-black focus:outline-none px-2 py-1">
                        <option value="1">1</option>
                        <option value="2">2</option>
                   
                    </select>
                            </div>
                            <div>
                                <button type="submit" class="text-white bg-blue-700 px-4 py-2 text-xl md:ml-52 ml-32 hover:bg-blue-600 rounded-md">Search</button>
                            </div>
                        </form>
                    </div>

                    <form action="#" onsubmit="filterForm1(event,this)" class="flex flex-col justify-end border-black md:w-1/2 w-full ">
                        <p class="text-xl text-white m-2">Enter Enrollment/Name</p>
                        <input type="text" id="usernameInp " name="SearchValue" class="p-3 m-2 input field text-black md:w-1/2 rounded-md focus:border-none focus:box focus:outline-none " placeholder="Enrollment/Name ">
                        <button type="submit " class="text-white bg-blue-700 px-4 py-2 text-xl mx-2 w-36 hover:bg-blue-600 rounded-md ">Search</button>
                    </form>


                </div>

            </div>
            <div id="studentList">
                <p class="text-white text-2xl my-8 text-center">Use Filter Box to See Students or Search Specific student by Name or Enrollment</p>
            </div>
        </div>
    </div>


</body>
<script>
    let usernameId = document.getElementById('uesrnameInp').value;
    let bars = document.getElementById('bars');
    let close = document.getElementById('close');
    let nav = document.getElementById('nav');
    bars.addEventListener('click', () => {
        nav.classList.remove('-left-full');
        nav.classList.add('left-0');
        bars.classList.add('hidden');
        close.classList.remove('hidden');

    });

    close.addEventListener('click', () => {
            nav.classList.add('-left-full');
            nav.classList.remove('left-0');
            bars.classList.remove('hidden');
            close.classList.add('hidden');

        })
        // **************************************
        // here all student part start 

    function showHideFilterBox(a) {
        let filterbox = a.parentElement.parentElement;
        filterbox.classList.toggle('h-10');
        filterbox.classList.toggle('md:h-10');
        filterbox.classList.toggle('h-3/4');
        filterbox.classList.toggle('md:h-1/2');


    }

    function filterForm1(eve, form) {
        eve.preventDefault();
        console.log("defalt preened ");


        form = new FormData(form);

        console.log(form);
        let i = 0;
        let data = '';
        if (Array.from(form)[0][0] == 'SearchValue') {

            data = data + 'SearchValue=' + Array.from(form)[0][1];

        } else {

            Array.from(form).forEach(e => {
                data += e[0] + '=' + e[1] + ((i++) < 3 ? "&" : "");
            })
        }
        console.log(data);


        let xml = new XMLHttpRequest();
        xml.onload = function() {
            document.getElementById('studentList').innerHTML = xml.responseText;
        }
        xml.open("POST", "FilterStudent", "YES");
        xml.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
        xml.send(data);
    }


    // ********************************************************
    // deleting student 
    function deleteStudent(btn) {
        let sid = btn.value;
        console.log(sid + " edit btn is working");


        let xml = new XMLHttpRequest();
        xml.onload = function() {
            let rt = xml.responseText
            try {
                rt = Number(rt);

            } catch (error) {
                console.log(xml.responseText);
            }

            if (rt == 1) {
                btn.parentElement.parentElement.remove();
            }

        }
        xml.open("GET", "DeleteStudent?ID=" + sid, "YES");
        xml.send();
    }

    // handling hide and show input field 
    function Eye(ele) {
        let input = ele.previousElementSibling;
        let eye_slash = ele.nextElementSibling;

        input.type = "text ";
        eye_slash.classList.remove('hidden');
        ele.classList.add('hidden');
    }

    function EyeSlash(ele) {
        let input = ele.previousElementSibling.previousElementSibling;
        let eye = ele.previousElementSibling;

        input.type = 'password';
        ele.classList.add('hidden');
        eye.classList.remove('hidden');
    }



    function showError(msg) {
        let errorbox = document.getElementById('errorbox');
        errorbox.classList.remove('hidden');
        errorbox.innerText = msg;
        setTimeout(() => {
            errorbox.classList.add('hidden');
        }, 5000);

    }
    // success msg fucntion 
    function succesboxmsg(msg) {
        let succesboxmsg = document.getElementById('successbox');
        succesboxmsg.classList.remove('hidden');
        succesboxmsg.innerText = msg;
        setTimeout(() => {
            succesboxmsg.classList.add('hidden');
        }, 5000);
    }
</script>


</html>